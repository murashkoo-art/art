import{_ as v,q as b,x as B,E as w,H as p,h as S,o as t,e as m,w as g,c as a,i as s,k as E,b as h,y as O,m as c,t as C,I as $,T as M,M as x}from"./app-B9F_XcfL.js";const z=()=>({lockScroll:()=>{document.body.style.overflow="hidden",document.body.style.paddingRight="0px"},unlockScroll:()=>{document.body.style.overflow="",document.body.style.paddingRight=""}}),I=["aria-labelledby"],H={key:0,class:"modal-header"},L=["id"],N=["disabled"],T={class:"modal-content"},V={key:1,class:"modal-footer"},F={__name:"BaseModal",props:{show:{type:Boolean,default:!1},title:{type:String,default:""},size:{type:String,default:"md",validator:e=>["sm","md","lg","xl","full"].includes(e)},closable:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},closeOnOverlay:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},fullscreen:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},preventBodyScroll:{type:Boolean,default:!0}},emits:["update:show","close","open","overlay-click"],setup(e,{emit:i}){const l=e,d=i,{lockScroll:r,unlockScroll:u}=z(),y=b(()=>`modal-${Math.random().toString(36).substr(2,9)}`),n=()=>{l.disabled||(d("update:show",!1),d("close"))},k=()=>{d("overlay-click"),l.closeOnOverlay&&!l.disabled&&n()},f=o=>{o.key==="Escape"&&l.closeOnEsc&&!l.disabled&&n()};return B(()=>{l.closeOnEsc&&document.addEventListener("keydown",f),l.show&&l.preventBodyScroll&&r()}),w(()=>{l.closeOnEsc&&document.removeEventListener("keydown",f),l.preventBodyScroll&&u()}),p(()=>l.show,o=>{l.preventBodyScroll&&(o?r():u())}),(o,R)=>(t(),S(x,{to:"body"},[m(M,{name:"modal-fade"},{default:g(()=>[e.show?(t(),a("div",{key:0,class:"modal-overlay",onClick:E(k,["self"])},[h("div",{class:O(["modal-container",[`modal-${e.size}`,{"modal-fullscreen":e.fullscreen}]]),role:"dialog","aria-modal":"true","aria-labelledby":e.title?`${y.value}-title`:null},[e.showHeader?(t(),a("div",H,[c(o.$slots,"header",{},()=>[e.title?(t(),a("h2",{key:0,id:`${y.value}-title`,class:"modal-title"},C(e.title),9,L)):s("",!0),e.closable?(t(),a("button",{key:1,class:"modal-close",onClick:n,"aria-label":"Закрыть",disabled:e.disabled},[m($,{name:"close",size:24})],8,N)):s("",!0)],!0)])):s("",!0),h("div",T,[c(o.$slots,"default",{},void 0,!0)]),e.showFooter?(t(),a("div",V,[c(o.$slots,"footer",{},void 0,!0)])):s("",!0)],10,I)])):s("",!0)]),_:3})]))}},D=v(F,[["__scopeId","data-v-57395cab"]]);export{D as B};
