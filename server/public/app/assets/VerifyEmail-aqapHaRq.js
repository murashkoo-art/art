import{_ as y,p as v,x as k,c as r,b as s,e as o,I as _,w as t,B as l,f as n,r as g,t as V,s as h,l as x,o as c}from"./app-B9F_XcfL.js";const w={class:"auth-page"},B={class:"container"},E={class:"auth-card"},N={key:0,class:"loading-state"},I={key:1,class:"success-state"},P={class:"success-icon"},b={class:"success-actions"},z={key:2,class:"error-state"},C={class:"error-icon"},G={class:"error-description"},H={class:"error-actions"},M={__name:"VerifyEmail",setup(R){const p=h();x();const d=v(!0),u=v(!1),i=v(""),m=async()=>{const f=p.query.token;if(!f){d.value=!1,u.value=!1,i.value="No verification token provided";return}try{const e=await fetch(`/api/users/verify-email/${f}`),a=await e.json();e.ok?u.value=!0:i.value=a.error||"Verification failed"}catch{i.value="Network error. Please try again."}finally{d.value=!1}};return k(()=>{m()}),(f,e)=>{const a=g("router-link");return c(),r("div",w,[s("div",B,[s("div",E,[d.value?(c(),r("div",N,[...e[0]||(e[0]=[s("div",{class:"loading-spinner"},null,-1),s("p",null,"Verifying email...",-1)])])):u.value?(c(),r("div",I,[s("div",P,[o(_,{name:"check",size:64,color:"var(--color-success)"})]),e[3]||(e[3]=s("h1",{class:"success-title"},"Email Verified!",-1)),e[4]||(e[4]=s("p",{class:"success-description"}," Your email address has been successfully verified. ",-1)),s("div",b,[o(a,{to:"/profile"},{default:t(()=>[o(l,null,{default:t(()=>[...e[1]||(e[1]=[n("Go to Profile",-1)])]),_:1})]),_:1}),o(a,{to:"/"},{default:t(()=>[o(l,{variant:"outline"},{default:t(()=>[...e[2]||(e[2]=[n("Home",-1)])]),_:1})]),_:1})])])):(c(),r("div",z,[s("div",C,[o(_,{name:"error",size:64,color:"var(--color-danger)"})]),e[7]||(e[7]=s("h1",{class:"error-title"},"Verification Failed",-1)),s("p",G,V(i.value||"The verification link is invalid or has expired."),1),s("div",H,[o(a,{to:"/profile"},{default:t(()=>[o(l,null,{default:t(()=>[...e[5]||(e[5]=[n("Go to Profile",-1)])]),_:1})]),_:1}),o(a,{to:"/"},{default:t(()=>[o(l,{variant:"outline"},{default:t(()=>[...e[6]||(e[6]=[n("Home",-1)])]),_:1})]),_:1})])]))])])])}}},j=y(M,[["__scopeId","data-v-fc1a9070"]]);export{j as default};
